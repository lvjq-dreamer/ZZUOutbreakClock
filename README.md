# 郑州大学疫情打卡小程序
## 一、介绍
疫情打卡小程序在线上稳定运行了三个多月。

目前出现了两次打卡失败的情况：
* 1月1号 新增“离校”上送字段（（首次为必填字段），导致打卡失败。1月2号程序正常运行。
* 1月23号 新增位置信息（经纬度以及定位权限获取）和部分新问题导致打卡失败。因为代码在实习公司电脑上，1月25号上班才进行修复，并决定开源。

代码逻辑很简单，主体分为三个定时任务：
1. 打卡任务。
2. 邮件发送任务。
3. 重置信息任务。

三个任务的实现借助quartz定时任务框架，时间设定采用CronExpression（可以类比成shell的crontab,格式相同, 这里省了还要编写shell定时任务的麻烦）。

数据的存储采用mysql数据库。这个版本无所谓5.x和8.x。
按道理数据量很少，应该使用文件（比如excel，txt文件）保存数据，
之所以使用了关系型数据库，是因为最初开始的时候想着做一套web后管系统，让大家都能免费用上，但是我实在是**太！懒！！了！！！**
到现在还没写，可能之后闲得无聊的时候会动手吧。

数据存储方面，账号和密码是明文不太友好哈，可自行修改加上加解密的东西，对称加密跑不掉哈，我下一班“应该”会加上，到时候配置一下你想要的方式就行。

用的是163邮箱进行结果的群发,可改为其他邮箱。

> test的代码写得太敷衍了，就不提交了

## 二、如何使用

需要配置的地方有三处
* 打卡时间（不想改，可默认），在APP类三个定时任务初始化代码中。
* 数据库账号和密码以及云服务器的IP和端口号。（druid.properties的‘(修改)’后缀去掉）
* 邮箱和授权码。（mail.properties的‘(修改)’后缀去掉）

Maven项目，直接撸即可。主类为App,启动main方法就行。打成jar包后部署到你的云服务器吧。






